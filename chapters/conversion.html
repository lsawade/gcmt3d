

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Conversion of the Synthetic and Observed Data to ASDF &mdash; gcmt3d 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Processing" href="processing.html" />
    <link rel="prev" title="Creating Synthetics" href="running_specfem.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> gcmt3d
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="specfem_setup_and_compilation.html">Specfem Setup and compilation</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_the_database.html">Create a Database Entry</a></li>
<li class="toctree-l1"><a class="reference internal" href="request_data.html">Request Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="perturb_sources.html">Perturbation of Specfem Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_specfem.html">Creating Synthetics</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_specfem.html#cleaning-the-simulation-directories">Cleaning the simulation directories</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Conversion of the Synthetic and Observed Data to ASDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing.html">Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="gcmt3dAPI.html">GCMT3D API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gcmt3d</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Conversion of the Synthetic and Observed Data to ASDF</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/chapters/conversion.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="conversion-of-the-synthetic-and-observed-data-to-asdf">
<h1>Conversion of the Synthetic and Observed Data to ASDF<a class="headerlink" href="#conversion-of-the-synthetic-and-observed-data-to-asdf" title="Permalink to this headline">Â¶</a></h1>
<p>For further processing and inversion, the <code class="docutils literal notranslate"><span class="pre">ASDF</span></code> data format is used to
simplify those steps. To convert the <code class="docutils literal notranslate"><span class="pre">SAC</span></code> or <code class="docutils literal notranslate"><span class="pre">mseed</span></code> data to <code class="docutils literal notranslate"><span class="pre">ASDF</span></code>
format, the <code class="docutils literal notranslate"><span class="pre">ConvertASDF</span></code> <code class="docutils literal notranslate"><span class="pre">class</span></code>, which is included in <code class="docutils literal notranslate"><span class="pre">GCMT3D</span></code>, is used.</p>
<p>The ConvertASDF <code class="docutils literal notranslate"><span class="pre">ConvertASDF</span></code> <code class="docutils literal notranslate"><span class="pre">class</span></code> takes in one main argument, which
is the path to a <code class="docutils literal notranslate"><span class="pre">Path</span></code> file. The <code class="docutils literal notranslate"><span class="pre">Path</span></code> file contains the paths to either
the <code class="docutils literal notranslate"><span class="pre">SAC</span></code> files to be converted or the directory that contains the
<code class="docutils literal notranslate"><span class="pre">SAC</span></code> files, the path to the earthquake <code class="docutils literal notranslate"><span class="pre">XML</span></code> file, as well as the path
to the <code class="docutils literal notranslate"><span class="pre">StationXML</span></code> file. Both path files for the synthetic and the
observed seismic data are created automatically when the database entry is
created. The usual content of the observed path file looks as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">waveform_dir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">path/to/waveform_dir</span>
<span class="nt">filetype</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SAC</span>
<span class="nt">quakeml_file</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">path/to/quake.xml</span>
<span class="nt">staxml_files</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">path/to/station.xml</span>
<span class="nt">tag</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">obsd</span>
<span class="nt">output_file</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">path/to/raw_observed.h5</span>
</pre></div>
</div>
<p>And the following snippet is a standard content of the path file for the
synthetic data.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">waveform_dir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">path/to/waveform_dir</span>
<span class="nt">filetype</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SAC</span>
<span class="nt">quakeml_file</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">path/to/quake.xml</span>
<span class="nt">tag</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">synt</span>
<span class="nt">output_file</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">path/to/raw_synt.h5</span>
</pre></div>
</div>
<p>Note that synthetic data does not require a <code class="docutils literal notranslate"><span class="pre">StationXML</span></code> since the SAC
header contains all necessary information and no response info is needed.</p>
<p>processing path files
inversion dictionaries</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="processing.html" class="btn btn-neutral float-right" title="Processing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="running_specfem.html" class="btn btn-neutral float-left" title="Creating Synthetics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Lucas Sawade

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>